# SOME DESCRIPTIVE TITLE.
# Chen <onsummer@foxmail.com>, 2023.
# Zuochenwei <zuochenwei5@gmail.com>, 2023.
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://bugs.kde.org\n"
"POT-Creation-Date: 2023-09-12 22:08+0000\n"
"PO-Revision-Date: 2023-09-05 05:07+0000\n"
"Last-Translator: Zuochenwei <zuochenwei5@gmail.com>\n"
"Language-Team: Chinese (Simplified) <https://weblate.osgeo.org/projects/"
"postgis/administrationxml/zh_Hans/>\n"
"Language: zh_Hans\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Weblate 4.16.4\n"

#. Tag: title
#: administration.xml:3
#, no-c-format
msgid "PostGIS Administration"
msgstr "PostGIS 管理"

#. Tag: chapter
#: administration.xml:3
#, no-c-format
msgid "&database_tuning;"
msgstr "&database_tuning;"

#. Tag: title
#: administration.xml:9
#, no-c-format
msgid "Configuring raster support"
msgstr "配置栅格支持"

#. Tag: para
#: administration.xml:11
#, no-c-format
msgid ""
"If you enabled raster support you may want to read below how to properly "
"configure it."
msgstr "如果启用了栅格的支持，则可能需要读一下下面的内容来正确配置它。"

#. Tag: para
#: administration.xml:16
#, no-c-format
msgid ""
"As of PostGIS 2.1.3, out-of-db rasters and all raster drivers are disabled "
"by default. In order to re-enable these, you need to set the following "
"environment variables <varname>POSTGIS_GDAL_ENABLED_DRIVERS</varname> and "
"<varname>POSTGIS_ENABLE_OUTDB_RASTERS</varname> in the server environment. "
"For PostGIS 2.2, you can use the more cross-platform approach of setting the "
"corresponding <xref linkend=\"PostGIS_GUC\"/>."
msgstr ""
"从 PostGIS 2.1.3 开始，默认情况下禁用数据库外栅格和所有栅格驱动程序要启用它"
"们，请在服务器上设置环境变量 <varname>POSTGIS_GDAL_ENABLED_DRIVERS</varname> "
"和<varname>POSTGIS_ENABLE_OUTDB_RASTERS</varname>。PostGIS 2.2 提供了一种跨平"
"台方法，用于根据第 <xref linkend=\"PostGIS_GUC\"/> 进行设置。"

#. Tag: para
#: administration.xml:19
#, no-c-format
msgid "If you want to enable offline raster:"
msgstr "如果要启用离线栅格："

#. Tag: para
#: administration.xml:21
#, no-c-format
msgid "Any other setting or no setting at all will disable out of db rasters."
msgstr "如果包括任何其它值或不包含值，则会禁用离线栅格。"

#. Tag: para
#: administration.xml:22
#, no-c-format
msgid ""
"In order to enable all GDAL drivers available in your GDAL install, set this "
"environment variable as follows"
msgstr "若想启用已经安装的 GDAL 驱动，请设置以下环境变量"

#. Tag: para
#: administration.xml:24
#, no-c-format
msgid ""
"If you want to only enable specific drivers, set your environment variable "
"as follows:"
msgstr "如果只想启用某些驱动，请按如下所示设置环境变量："

#. Tag: para
#: administration.xml:27
#, no-c-format
msgid "If you are on windows, do not quote the driver list"
msgstr "在 Windows 上，不要在驱动程序列表中加上引号"

#. Tag: para
#: administration.xml:29
#, no-c-format
msgid ""
"Setting environment variables varies depending on OS. For PostgreSQL "
"installed on Ubuntu or Debian via apt-postgresql, the preferred way is to "
"edit <filename>/etc/postgresql/<replaceable>10</replaceable>/"
"<replaceable>main</replaceable>/environment</filename> where 10 refers to "
"version of PostgreSQL and main refers to the cluster."
msgstr ""
"环境变量的设置因操作系统而异。对于在 Ubuntu 或 Debian 上通过 apt-postgresql "
"安装的 PostgreSQL，首选方法是编辑<filename>/etc/postgresql/<replaceable>10</"
"replaceable>/<replaceable>main</replaceable>/environment</filename> ，其中数"
"字 10 是 PostgreSQL 的版本，main 表示集群。"

#. Tag: para
#: administration.xml:32
#, no-c-format
msgid ""
"On windows, if you are running as a service, you can set via System "
"variables which for Windows 7 you can get to by right-clicking on Computer-"
"&gt;Properties Advanced System Settings or in explorer navigating to "
"<varname>Control Panel\\All Control Panel Items\\System</varname>. Then "
"clicking <emphasis>Advanced System Settings -&gt;Advanced-&gt;Environment "
"Variables</emphasis> and adding new system variables."
msgstr ""

#. Tag: para
#: administration.xml:34
#, no-c-format
msgid ""
"After you set the environment variables, you'll need to restart your "
"PostgreSQL service for the changes to take effect."
msgstr "设置环境变量后，您需要重启 PostgreSQL 服务才能使更改生效。"

#. Tag: title
#: administration.xml:39
#, no-c-format
msgid "Creating spatial databases"
msgstr "创建空间数据库"

#. Tag: title
#: administration.xml:42
#, no-c-format
msgid "Spatially enable database using EXTENSION"
msgstr "使用「扩展（EXTENSION）」来在数据库上启用空间能力"

#. Tag: para
#: administration.xml:44
#, no-c-format
msgid ""
"If you are using PostgreSQL 9.1+ and have compiled and installed the "
"extensions/postgis modules, you can turn a database into a spatial one using "
"the EXTENSION mechanism."
msgstr ""
"如果您使用的是 PostgreSQL 9.1 以上的版本，并且已经编译并安装了 postgis 扩展模"
"块，那么数据库将在 PG 的扩展机制下成为空间数据库。"

#. Tag: para
#: administration.xml:49
#, no-c-format
msgid ""
"Core postgis extension includes geometry, geography, spatial_ref_sys and all "
"the functions and comments. Raster and topology are packaged as a separate "
"extension."
msgstr ""
"postgis 的核心扩展包括几何、地理、spatial_ref_sys 以及所有函数和注释。栅格"
"（Raster）和拓扑（Topology）打包为单独的扩展模块。"

#. Tag: para
#: administration.xml:55
#, no-c-format
msgid ""
"Run the following SQL snippet in the database you want to enable spatially:"
msgstr "在要启用空间的数据库中运行以下SQL代码段："

#. Tag: title
#: administration.xml:63
#, no-c-format
msgid "Spatially enable database without using EXTENSION (discouraged)"
msgstr "不通过扩展（EXTENSION）的方式启用空间数据库（不建议）"

#. Tag: para
#: administration.xml:65
#, no-c-format
msgid ""
"This is generally only needed if you cannot or don't want to get PostGIS "
"installed in the PostgreSQL extension directory (for example during testing, "
"development or in a restricted environment)."
msgstr ""
"通常，仅当你不能或不想在PostgreSQL扩展的目录中安装PostGIS时（例如，在测试或开"
"发期间，或在受限环境中），才需要这样做。"

#. Tag: para
#: administration.xml:70
#, no-c-format
msgid ""
"Adding PostGIS objects and function definitions into your database is done "
"by loading the various sql files located in <filename>[prefix]/share/"
"contrib</filename> as specified during the build phase."
msgstr ""
"将 PostGIS 对象和函数定义添加到数据库中是通过加载位于构建阶段指定的 "
"<filename>[prefix]/share/contrib</filename> 中的各种 sql 文件来完成的。"

#. Tag: para
#: administration.xml:77
#, no-c-format
msgid ""
"The core PostGIS objects (geometry and geography types, and their support "
"functions) are in the <filename>postgis.sql</filename> script. Raster "
"objects are in the <filename>rtpostgis.sql</filename> script. Topology "
"objects are in the <filename>topology.sql</filename> script."
msgstr ""
"核心 PostGIS 对象（几何和地理类型及其支持函数）位于 <filename>postgis.sql</"
"filename> 脚本中。 栅格对象位于 <filename>rtpostgis.sql</filename> 脚本中。 "
"拓扑对象位于 <filename>topology.sql</filename> 脚本中。"

#. Tag: para
#: administration.xml:85
#, no-c-format
msgid ""
"For a complete set of EPSG coordinate system definition identifiers, you can "
"also load the <filename>spatial_ref_sys.sql</filename> definitions file and "
"populate the <varname>spatial_ref_sys</varname> table. This will permit you "
"to perform ST_Transform() operations on geometries."
msgstr ""
"对于完整的 EPSG 坐标系定义标识符集，您还可以加载 <filename>spatial_ref_sys."
"sql</filename> 定义文件并填充 <varname>spatial_ref_sys</varname> 表。 这将允"
"许您对几何图形执行 ST_Transform() 操作。"

#. Tag: para
#: administration.xml:92
#, no-c-format
msgid ""
"If you wish to add comments to the PostGIS functions, you can find them in "
"the <filename>postgis_comments.sql</filename> script. Comments can be viewed "
"by simply typing <command>\\dd [function_name]</command> from a "
"<command>psql</command> terminal window."
msgstr ""
"如果您希望向 PostGIS 函数添加注释，可以在 <filename>postgis_comments.sql</"
"filename> 脚本中找到它们。 只需从 <command>psql</command> 终端窗口输入 "
"<command>\\dd [function_name]</command> 即可查看注释。"

#. Tag: para
#: administration.xml:99
#, no-c-format
msgid "Run the following Shell commands in your terminal:"
msgstr "在终端中运行以下 shell 命令："

#. Tag: title
#: administration.xml:109
#, no-c-format
msgid "Upgrading spatial databases"
msgstr "升级空间数据库"

#. Tag: para
#: administration.xml:111
#, no-c-format
msgid ""
"Upgrading existing spatial databases can be tricky as it requires "
"replacement or introduction of new PostGIS object definitions."
msgstr ""
"当您需要替换或部署新的 PostGIS 对象定义时，升级现有空间数据库可能会很棘手。"

#. Tag: para
#: administration.xml:116
#, no-c-format
msgid ""
"Unfortunately not all definitions can be easily replaced in a live database, "
"so sometimes your best bet is a dump/reload process."
msgstr ""
"遗憾的是，并非所有定义都可以在正在运行的数据库中轻松替换，因此转储/重装可能是"
"最好的选择。"

#. Tag: para
#: administration.xml:121
#, no-c-format
msgid ""
"PostGIS provides a SOFT UPGRADE procedure for minor or bugfix releases, and "
"a HARD UPGRADE procedure for major releases."
msgstr "PostGIS 为次要版本升级和错误修复提供软升级，为主要升级提供硬升级。"

#. Tag: para
#: administration.xml:126
#, no-c-format
msgid ""
"Before attempting to upgrade PostGIS, it is always worth to backup your "
"data. If you use the -Fc flag to pg_dump you will always be able to restore "
"the dump with a HARD UPGRADE."
msgstr ""
"在尝试升级PostGIS之前备份数据始终是值得的。 可以将 -fc 标志与 pg_dump 一起使"
"用，以始终通过硬升级还原转储。"

#. Tag: title
#: administration.xml:133
#, no-c-format
msgid "Soft upgrade"
msgstr "软升级"

#. Tag: para
#: administration.xml:135
#, no-c-format
msgid ""
"If you installed your database using extensions, you'll need to upgrade "
"using the extension model as well. If you installed using the old sql script "
"way, you are advised to switch your install to extensions because the script "
"way is no longer supported."
msgstr ""
"如果使用扩展安装数据库，则必须使用扩展模型对其进行升级。 如果使用较旧的 SQL "
"脚本进行安装，则应切换到扩展，因为不再支持 SQL 脚本。"

#. Tag: title
#: administration.xml:137
#, no-c-format
msgid "Soft Upgrade 9.1+ using extensions"
msgstr "使用 9.1 或更高版本的扩展进行软升级"

#. Tag: para
#: administration.xml:138
#, no-c-format
msgid ""
"If you originally installed PostGIS with extensions, then you need to "
"upgrade using extensions as well. Doing a minor upgrade with extensions, is "
"fairly painless."
msgstr ""
"如果使用扩展程序安装了PostGIS，则需要使用该扩展程序进行升级。使用扩展程序进行"
"小升级非常轻松。"

#. Tag: para
#: administration.xml:139
#, no-c-format
msgid ""
"If you are running PostGIS 3 or above, then you should use the <xref "
"linkend=\"PostGIS_Extensions_Upgrade\"/> function to upgrade to the latest "
"version you have installed."
msgstr ""
"如果您运行的是 PostGIS 3 或更高版本，则应升级到已安装的具有<xref "
"linkend=\"PostGIS_Extensions_Upgrade\"/>功能的最新版本。"

#. Tag: para
#: administration.xml:142
#, no-c-format
msgid "If you are running PostGIS 2.5 or lower, then do the following:"
msgstr "如果您运行的是 PostGIS 2.5 或更早版本，执行以下操作："

#. Tag: para
#: administration.xml:145
#, no-c-format
msgid ""
"If you have multiple versions of PostGIS installed, and you don't want to "
"upgrade to the latest, you can explicitly specify the version as follows:"
msgstr ""
"如果安装了多个版本的 PostGIS，并且不想升级到最新版本，则可以指定显式版本。 执"
"行以下操作："

#. Tag: para
#: administration.xml:147
#, no-c-format
msgid "If you get an error notice something like:"
msgstr "您可能会看到类似于以下内容的错误通知："

#. Tag: para
#: administration.xml:149
#, no-c-format
msgid ""
"Then you'll need to backup your database, create a fresh one as described in "
"<xref linkend=\"create_new_db_extensions\"/> and then restore your backup on "
"top of this new database."
msgstr ""
"在这种情况下，必须备份数据库，按照第 <xref "
"linkend=\"create_new_db_extensions\"/>节 “使用扩展启用空间数据库”中所述生成新"
"数据库，然后将备份还原到新数据库。"

#. Tag: para
#: administration.xml:150
#, no-c-format
msgid "If you get a notice message like:"
msgstr "您可能会收到类似于以下内容的消息："

#. Tag: para
#: administration.xml:152
#, no-c-format
msgid ""
"Then everything is already up to date and you can safely ignore it. "
"<emphasis role=\"bold\">UNLESS</emphasis> you're attempting to upgrade from "
"an development version to the next (which doesn't get a new version number); "
"in that case you can append \"next\" to the version string, and next time "
"you'll need to drop the \"next\" suffix again:"
msgstr ""
"那么一切都已经是最新的，您可以安全地忽略它。 <emphasis role=\"bold\">除非</"
"emphasis>您正在尝试从开发版本升级到下一个版本（不会获得新的版本号）； 在这种"
"情况下，您可以将“next”附加到版本字符串，下次您需要再次删除“next”后缀："

#. Tag: para
#: administration.xml:159
#, no-c-format
msgid ""
"If you installed PostGIS originally without a version specified, you can "
"often skip the reinstallation of postgis extension before restoring since "
"the backup just has <code>CREATE EXTENSION postgis</code> and thus picks up "
"the newest latest version during restore."
msgstr ""
"如果您最初安装 PostGIS 时没有指定版本，则通常可以在恢复之前跳过 postgis 扩展"
"的重新安装，因为备份只有 <code>CREATE EXTENSION postgis</code> ，因此在恢复期"
"间会选择最新的最新版本。"

#. Tag: para
#: administration.xml:163
#, no-c-format
msgid ""
"If you are upgrading PostGIS extension from a version prior to 3.0.0, you "
"will have a new extension <emphasis>postgis_raster</emphasis> which you can "
"safely drop, if you don't need raster support. You can drop as follows:"
msgstr ""
"如果您要从 3.0.0 之前的版本升级 PostGIS 扩展，您将拥有一个新的扩展 "
"<emphasis>postgis_raster</emphasis>，如果您不需要栅格支持，则可以安全地删除该"
"扩展。 您可以按如下方式删除："

#. Tag: title
#: administration.xml:171
#, no-c-format
msgid "Soft Upgrade Pre 9.1+ or without extensions"
msgstr "之前或非扩展软升级"

#. Tag: para
#: administration.xml:173
#, no-c-format
msgid ""
"This section applies only to those who installed PostGIS not using "
"extensions. If you have extensions and try to upgrade with this approach "
"you'll get messages like:"
msgstr ""
"它适用于在不使用扩展名的情况下安装了PostGIS的人。如果您使用的是扩展并使用此方"
"法，您将看到类似于以下内容的消息："

#. Tag: para
#: administration.xml:179
#, no-c-format
msgid ""
"NOTE: if you are moving from PostGIS 1.* to PostGIS 2.* or from PostGIS 2.* "
"prior to r7409, you cannot use this procedure but would rather need to do a "
"<link linkend=\"hard_upgrade\">HARD UPGRADE</link>."
msgstr ""
"注： 如果要迁移到 r1 之前的 PostGIS 7429.* 或 PostGIS 2.*，则此过程不可用，但"
"需要执行<link linkend=\"hard_upgrade\">硬升级</link>。"

#. Tag: para
#: administration.xml:185
#, no-c-format
msgid ""
"After compiling and installing (make install) you should find a set of "
"<filename>*_upgrade.sql</filename> files in the installation folders. You "
"can list them all with:"
msgstr ""
"编译并安装（make install）后，您应该在安装文件夹中找到一组 "
"<filename>*_upgrade.sql</filename> 文件。 您可以通过以下方式列出它们："

#. Tag: para
#: administration.xml:194
#, no-c-format
msgid ""
"Load them all in turn, starting from <filename>postgis_upgrade.sql</"
"filename>."
msgstr "从 <filename>postgis_upgrade.sql</filename> 开始依次加载它们。"

#. Tag: para
#: administration.xml:200
#, no-c-format
msgid ""
"The same procedure applies to raster, topology and sfcgal extensions, with "
"upgrade files named <filename>rtpostgis_upgrade.sql</filename>, "
"<filename>topology_upgrade.sql</filename> and <filename>sfcgal_upgrade.sql</"
"filename> respectively. If you need them:"
msgstr ""
"相同的过程适用于栅格、拓扑和 sfcgal 扩展，升级文件分别名为 "
"<filename>rtpostgis_upgrade.sql</filename>、<filename>topology_upgrade.sql</"
"filename> 和 <filename>sfcgal_upgrade.sql</filename>。 如果您需要它们："

#. Tag: para
#: administration.xml:213
#, no-c-format
msgid "You are advised to switch to an extension based install by running"
msgstr "建议您通过运行切换到基于扩展的安装"

#. Tag: para
#: administration.xml:217
#, no-c-format
msgid ""
"If you can't find the <filename>postgis_upgrade.sql</filename> specific for "
"upgrading your version you are using a version too early for a soft upgrade "
"and need to do a <link linkend=\"hard_upgrade\">HARD UPGRADE</link>."
msgstr ""
"如果您找不到专门用于升级您的版本的 <filename>postgis_upgrade.sql</filename>，"
"那么您使用的版本对于软升级来说还太早，需要执行<link linkend=\"hard_upgrade\">"
"硬升级</link>。"

#. Tag: para
#: administration.xml:226
#, no-c-format
msgid ""
"The <xref linkend=\"PostGIS_Full_Version\"/> function should inform you "
"about the need to run this kind of upgrade using a \"procs need upgrade\" "
"message."
msgstr ""
"<xref linkend=\"PostGIS_Full_Version\"/>函数的“进程需要升级”消息提供了有关需"
"要执行此类升级的信息。"

#. Tag: title
#: administration.xml:236
#, no-c-format
msgid "Hard upgrade"
msgstr "硬升级"

#. Tag: para
#: administration.xml:238
#, no-c-format
msgid ""
"By HARD UPGRADE we mean full dump/reload of postgis-enabled databases. You "
"need a HARD UPGRADE when PostGIS objects' internal storage changes or when "
"SOFT UPGRADE is not possible. The <link linkend=\"release_notes\">Release "
"Notes</link> appendix reports for each version whether you need a dump/"
"reload (HARD UPGRADE) to upgrade."
msgstr ""
"硬升级意味着完全转储/重新加载 PostGIS 中可用的数据。如果 PostGIS 对象的内部存"
"储状态发生更改或无法进行软升级，则需要硬升级。 附录中的<link "
"linkend=\"release_notes\">发行说明</link>指示每个版本是否需要转储/重新加载"
"（硬升级）。"

#. Tag: para
#: administration.xml:247
#, no-c-format
msgid ""
"The dump/reload process is assisted by the postgis_restore script which "
"takes care of skipping from the dump all definitions which belong to PostGIS "
"(including old ones), allowing you to restore your schemas and data into a "
"database with PostGIS installed without getting duplicate symbol errors or "
"bringing forward deprecated objects."
msgstr ""
"转储/重新加载操作由脚本辅助postgis_restore。 此脚本跳过属于 PostGIS 的所有定"
"义（包括旧定义）。 您还可以将方案和数据恢复到 PostGIS 安装的数据库，而不会传"
"递重复的符号错误或已弃用的对象。"

#. Tag: para
#: administration.xml:256
#, no-c-format
msgid ""
"Supplementary instructions for windows users are available at <link xlink:"
"href=\"http://trac.osgeo.org/postgis/wiki/UsersWikiWinUpgrade\">Windows Hard "
"upgrade</link>."
msgstr ""
"有关 Windows 的其他信息，请参阅 Windows <link xlink:href=\"http://trac.osgeo."
"org/postgis/wiki/UsersWikiWinUpgrade\">Windows 硬升级</link>。"

#. Tag: para
#: administration.xml:259
#, no-c-format
msgid "The Procedure is as follows:"
msgstr "程序如下："

#. Tag: para
#: administration.xml:267
#, no-c-format
msgid ""
"Create a \"custom-format\" dump of the database you want to upgrade (let's "
"call it <varname>olddb</varname>) include binary blobs (-b) and verbose (-v) "
"output. The user can be the owner of the db, need not be postgres super "
"account."
msgstr ""
"创建要升级的数据库的“自定义格式”转储（我们称之为 <varname>olddb</varname>），"
"包括二进制 blob (-b) 和详细 (-v) 输出。 用户可以是数据库的所有者，不必是"
"postgres超级帐户。"

#. Tag: para
#: administration.xml:281
#, no-c-format
msgid ""
"Do a fresh install of PostGIS in a new database -- we'll refer to this "
"database as <varname>newdb</varname>. Please refer to <xref "
"linkend=\"create_new_db\"/> and <xref linkend=\"create_new_db_extensions\"/> "
"for instructions on how to do this."
msgstr ""
"在新数据库中全新安装 PostGIS - 我们将此数据库称为 <varname>newdb</varname>。 "
"请参阅 <xref linkend=\"create_new_db\"/> 和 <xref "
"linkend=\"create_new_db_extensions\"/> 了解如何执行此操作的说明。"

#. Tag: para
#: administration.xml:288
#, no-c-format
msgid ""
"The spatial_ref_sys entries found in your dump will be restored, but they "
"will not override existing ones in spatial_ref_sys. This is to ensure that "
"fixes in the official set will be properly propagated to restored databases. "
"If for any reason you really want your own overrides of standard entries "
"just don't load the spatial_ref_sys.sql file when creating the new db."
msgstr ""
"转储中的spatial_ref_sys将还原，但不会覆盖现有spatial_ref_sys。 这是为了确保对"
"正式数据集的更正被传送到要恢复的数据库。 如果要覆盖标准条目，只需在生成 "
"newdb 时不要加载spaltial_ref_sys.sql文件。"

#. Tag: para
#: administration.xml:298
#, no-c-format
msgid ""
"If your database is really old or you know you've been using long deprecated "
"functions in your views and functions, you might need to load "
"<filename>legacy.sql</filename> for all your functions and views etc. to "
"properly come back. Only do this if _really_ needed. Consider upgrading your "
"views and functions before dumping instead, if possible. The deprecated "
"functions can be later removed by loading <filename>uninstall_legacy.sql</"
"filename>."
msgstr ""
"如果您的数据库确实很旧，或者您知道在视图和函数中使用了长期不推荐使用的函数，"
"则可能需要为所有函数和视图等加载 <filename>legacy.sql</filename> 才能正确返"
"回 。 仅在确实需要时才执行此操作。 如果可能的话，请考虑在转储之前升级您的视图"
"和函数。 稍后可以通过加载 <filename>uninstall_legacy.sql</filename> 来删除已"
"弃用的函数。"

#. Tag: para
#: administration.xml:314
#, no-c-format
msgid ""
"Restore your backup into your fresh <varname>newdb</varname> database using "
"postgis_restore. Unexpected errors, if any, will be printed to the standard "
"error stream by psql. Keep a log of those."
msgstr ""
"使用 postgis_restore 将备份恢复到新的 <varname>newdb</varname> 数据库中。 意"
"外错误（如果有）将由 psql 打印到标准错误流。 记录这些内容。"

#. Tag: para
#: administration.xml:328
#, no-c-format
msgid "Errors may arise in the following cases:"
msgstr "在以下情况下可能会发生错误："

#. Tag: para
#: administration.xml:334
#, no-c-format
msgid ""
"Some of your views or functions make use of deprecated PostGIS objects. In "
"order to fix this you may try loading <filename>legacy.sql</filename> script "
"prior to restore or you'll have to restore to a version of PostGIS which "
"still contains those objects and try a migration again after porting your "
"code. If the <filename>legacy.sql</filename> way works for you, don't forget "
"to fix your code to stop using deprecated functions and drop them loading "
"<filename>uninstall_legacy.sql</filename>."
msgstr ""
"您的某些视图或函数使用已弃用的 PostGIS 对象。 为了解决这个问题，您可以尝试在"
"恢复之前加载 <filename>legacy.sql</filename> 脚本，或者您必须恢复到仍包含这些"
"对象的 PostGIS 版本，并在移植代码后再次尝试迁移。 如果 <filename>legacy.sql</"
"filename> 方式适合您，请不要忘记修复您的代码以停止使用已弃用的函数并将其加载 "
"<filename>uninstall_legacy.sql</filename>。"

#. Tag: para
#: administration.xml:346
#, no-c-format
msgid ""
"Some custom records of spatial_ref_sys in dump file have an invalid SRID "
"value. Valid SRID values are bigger than 0 and smaller than 999000. Values "
"in the 999000.999999 range are reserved for internal use while values &gt; "
"999999 can't be used at all. All your custom records with invalid SRIDs will "
"be retained, with those &gt; 999999 moved into the reserved range, but the "
"spatial_ref_sys table would lose a check constraint guarding for that "
"invariant to hold and possibly also its primary key ( when multiple invalid "
"SRIDS get converted to the same reserved SRID value )."
msgstr ""

#. Tag: para
#: administration.xml:360
#, no-c-format
msgid ""
"In order to fix this you should copy your custom SRS to a SRID with a valid "
"value (maybe in the 910000..910999 range), convert all your tables to the "
"new srid (see <xref linkend=\"UpdateGeometrySRID\"/>), delete the invalid "
"entry from spatial_ref_sys and re-construct the check(s) with:"
msgstr ""
"为了解决此问题，您应该将自定义SRS复制到 具有有效值的 SRID（可能在 "
"910000..910999 范围），将所有表转换为新的 srid （请参阅<xref "
"linkend=\"UpdateGeometrySRID\"/>），删除无效的 从spatial_ref_sys输入并重建检"
"查："

#. Tag: para
#: administration.xml:372
#, no-c-format
msgid ""
"If you are upgrading an old database containing french <link xlink:"
"href=\"https://en.wikipedia.org/wiki/Institut_g%C3%A9ographique_national\"> "
"IGN </link> cartography, you will have probably SRIDs out of range and you "
"will see, when importing your database, issues like this :"
msgstr ""
"如果要升级包含法国 <link xlink:href=\"https://en.wikipedia.org/wiki/"
"Institut_g%C3%A9ographique_national\"> IGN </link> 映射的旧数据库，则可能会超"
"出 SRID 的范围，并在导入数据库时遇到以下问题："

#. Tag: para
#: administration.xml:381
#, no-c-format
msgid ""
"In this case, you can try following steps : first throw out completely the "
"IGN from the sql which is resulting from postgis_restore. So, after having "
"run :"
msgstr ""
"在这种情况下，您可以尝试以下步骤： 完全丢弃最初从 SQL postgis_restore中产生"
"的 IGN。 为此，请运行以下命令："

#. Tag: para
#: administration.xml:389
#, no-c-format
msgid "run this command :"
msgstr "运行以下命令："

#. Tag: para
#: administration.xml:395
#, no-c-format
msgid ""
"Create then your newdb, activate the required Postgis extensions, and insert "
"properly the french system IGN with : <link xlink:href=\"https://raw."
"githubusercontent.com/Remi-C/IGN_spatial_ref_for_PostGIS/master/"
"Put_IGN_SRS_into_Postgis.sql\"> this script </link> After these operations, "
"import your data :"
msgstr ""
"之后，生成一个新数据库，启用必要的 PostGIS 扩展，并确保使用此 <link xlink:"
"href=\"https://raw.githubusercontent.com/Remi-C/IGN_spatial_ref_for_PostGIS/"
"master/Put_IGN_SRS_into_Postgis.sql\"> 脚本</link>插入法语 IGN 系统。 完成这"
"些过程后，按如下方式导入数据："
